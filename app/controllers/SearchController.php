<?php/** * Created by PhpStorm. * User: chenli * Date: 6/29/15 * Time: 10:02 AM */namespace app\controllers;use yii;use common\models\social\SoQuestion;use common\models\social\SoRecord;use common\models\social\SoShare;use common\base\BaseController;use common\services\message\MessageService;use common\services\learning\CourseService;use common\models\message\MsMessage;class SearchController extends BaseController {    public  $layout = 'search';    public function actionIndex()    {//        $id = Yii::$app->user->getId();        $questionModel = new SoQuestion();        $shareModel = new SoShare();        $recordModel = new SoRecord();        return $this->render('index');    }    public function actionGetDynamicMessage($type, $page, $time = null)    {        $id = Yii::$app->user->getId();        switch ($type) {            case MsMessage::TYPE_QA:                $view = 'tab-student-question';                break;            case MsMessage::TYPE_SOCIAL:                $view = 'tab-student-share';                break;            default:                $view = 'tab-student-course';                break;        }        $size = 10;        $msgService = new MessageService();        $data = $msgService->getMessageByUid($id, $type, $time, $size, $size < 1 ? 0 : ((int)$page - 1) * $size);        echo $data;        return $this->render($view, [            'data' => $data['data'],        ]);    }    public function actionGetMyCourse()    {//        $this->layout = 'none';        $id = Yii::$app->user->getId();        $size = 10;        $service = new CourseService();        $data = $service->getMyCourse($id);//, $time, $size, $page);        return $this->render('get-my-course', [            'data' => $data        ]);    }} 